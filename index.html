<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>H2 TechService Rechnung</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{font-family:Arial;background:#f2f2f2}
.container{max-width:900px;margin:20px auto;background:#fff;padding:20px}
h1{text-align:center}
table{width:100%;border-collapse:collapse;margin-top:10px}
th,td{border:1px solid #ccc;padding:6px;text-align:left}
th{background:#eee}
textarea{width:100%;min-height:90px}
input[type=number]{width:90px}
.total{text-align:right;font-size:18px;margin-top:10px}
.actions button{margin:5px;padding:8px 12px}
.no-print{display:inline-block}
@media print{.no-print{display:none}}
</style>
</head>

<body>
<div class="container">

<h1>Rechnung</h1>

<b>H2 TechService</b><br>
Inhaber: Osman Tuncer<br>
Suntal Str. 48, 31552 Rodenberg<br>
Tel: +49 176 66658777<br>
E-Mail: 74star@gmail.com<br>
IBAN: LT83 2500 9251 8928 659<br>
BIC: REVOLT21

<hr>

Kunde:<br>
<input id="kunde" style="width:100%"><br><br>

Rechnungsnr: <b id="nr"></b><br>
Datum: <span id="datum"></span><br>
F√§llig: <span id="faellig"></span>

<table>
<thead>
<tr>
<th>Beschreibung</th>
<th>Menge</th>
<th>Preis ‚Ç¨</th>
<th>Gesamt ‚Ç¨</th>
</tr>
</thead>
<tbody>
<tr>
<td><textarea id="desc"></textarea></td>
<td><input type="number" id="qty" value="1" min="1" max="10000"></td>
<td><input type="number" id="price" value="0"></td>
<td id="rowTotal">0.00</td>
</tr>
</tbody>
</table>

<div class="total">
Zwischensumme: <span id="sub">0.00</span> ‚Ç¨<br>
MwSt 19 %: <span id="vat">0.00</span> ‚Ç¨<br>
<b>Gesamt: <span id="total">0.00</span> ‚Ç¨</b>
</div>

<div class="actions no-print">
<button onclick="save()">üíæ Speichern</button>
<button onclick="clearData()">üóë L√∂schen</button>
<button onclick="window.print()">üìÑ PDF</button>
<button onclick="email()">‚úâÔ∏è Email</button>
<button onclick="whatsapp()">üì± WhatsApp</button>
</div>

</div>

<script>
const n="H2-"+Date.now();
nr.innerText=n;
datum.innerText=new Date().toLocaleDateString();
faellig.innerText=new Date(Date.now()+12096e5).toLocaleDateString();

function calc(){
let q=qty.value,p=price.value;
let s=q*p;
rowTotal.innerText=s.toFixed(2);
sub.innerText=s.toFixed(2);
let v=s*0.19;
vat.innerText=v.toFixed(2);
total.innerText=(s+v).toFixed(2);
}
qty.oninput=price.oninput=calc;

function save(){
localStorage.setItem(n,JSON.stringify({
kunde:kunde.value,
desc:desc.value,
qty:qty.value,
price:price.value
}));
alert("Gespeichert (nur Admin sichtbar)");
}

function clearData(){
if(confirm("Wirklich l√∂schen?")){
localStorage.removeItem(n);
location.reload();
}
}

function email(){
location.href=`mailto:?subject=Rechnung ${n}&body=Gesamt ${total.innerText} ‚Ç¨`;
}

function whatsapp(){
window.open(`https://wa.me/?text=Rechnung ${n} Gesamt ${total.innerText} ‚Ç¨`);
}
</script>

</body>
</html>
