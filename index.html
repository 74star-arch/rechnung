<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>H2 TechService Rechnung</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<style>
.no-print { display: block; }
@media print { .no-print { display:none !important; } }
textarea { min-height:120px; resize:vertical; }
input.qty { width:80px; }
</style>
</head>

<body class="bg-gray-100 p-4">

<div id="invoice" class="max-w-3xl mx-auto bg-white p-6 shadow rounded">

<!-- HEADER -->
<div class="bg-blue-700 text-white p-4 rounded">
  <h1 class="text-2xl font-bold">H2 TechService</h1>
  <p>Osman Tuncer</p>
</div>

<!-- FIRMA -->
<div class="mt-4 text-sm">
  Suntal Str. 48, 31552 Rodenberg<br>
  ğŸ“ +49 176 66658777<br>
  âœ‰ï¸ 74star@gmail.com<br>
  Steuernr.: 41320887966<br>
  IBAN: LT83 2500 9251 8928 659<br>
  BIC: Revolut21
</div>

<hr class="my-4">

<!-- KUNDE -->
<div class="grid grid-cols-2 gap-4">
  <div>
    <label>Kunde</label>
    <input id="customer" class="border p-2 w-full">
    <div class="no-print mt-2">
      <button onclick="saveCustomer()">ğŸ’¾ speichern</button>
      <button onclick="deleteCustomer()">ğŸ—‘ lÃ¶schen</button>
    </div>
  </div>
  <div>
    <label>Rechnungsnr.</label>
    <div id="invnr" class="font-bold"></div>
    <label>Datum</label>
    <input type="date" id="date" class="border p-1 w-full">
    <label>FÃ¤llig</label>
    <input type="date" id="due" class="border p-1 w-full">
  </div>
</div>

<!-- POSITION -->
<table class="w-full mt-4 border">
<tr class="bg-gray-200">
<th>Beschreibung</th><th>Menge</th><th>Preis â‚¬</th><th>Gesamt â‚¬</th>
</tr>
<tr>
<td><textarea id="desc"></textarea></td>
<td><input type="number" id="qty" class="qty" value="1" min="1" max="10000"></td>
<td><input type="number" id="price" value="0"></td>
<td id="rowTotal">0.00</td>
</tr>
</table>

<!-- SUMMEN -->
<div class="text-right mt-4">
  Netto: <span id="net">0.00</span> â‚¬<br>
  MwSt 19 %: <span id="vat">0.00</span> â‚¬<br>
  <b>Gesamt: <span id="total">0.00</span> â‚¬</b>
</div>

<!-- BUTTONS -->
<div class="no-print flex gap-3 mt-6">
  <button onclick="makePDF()" class="bg-blue-600 text-white px-4 py-2 rounded">ğŸ“„ PDF</button>
  <button onclick="sendMail()" class="bg-green-600 text-white px-4 py-2 rounded">âœ‰ï¸ E-Mail</button>
  <button onclick="sendWhatsApp()" class="bg-green-500 text-white px-4 py-2 rounded">WhatsApp</button>
  <button onclick="sendTelegram()" class="bg-blue-400 text-white px-4 py-2 rounded">Telegram</button>
</div>

</div>

<script>
function calc(){
 let q=qty.value,p=price.value;
 let net=q*p;
 let vat=net*0.19;
 rowTotal.innerText=net.toFixed(2);
 netSpan.innerText=net.toFixed(2);
 vatSpan.innerText=vat.toFixed(2);
 total.innerText=(net+vat).toFixed(2);
}
qty.oninput=price.oninput=calc;

invnr.innerText="H2-"+Date.now();
date.valueAsDate=new Date();
due.valueAsDate=new Date(Date.now()+14*86400000);

function makePDF(){
 html2pdf().from(document.getElementById("invoice")).save("Rechnung.pdf");
}
function sendMail(){
 location.href="mailto:?subject=Rechnung&body=Bitte Rechnung ansehen.";
}
function sendWhatsApp(){
 window.open("https://wa.me/?text=Meine Rechnung");
}
function sendTelegram(){
 window.open("https://t.me/share/url?text=Meine Rechnung");
}
</script>

</body>
</html>
