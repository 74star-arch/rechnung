<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>H2 TechService Rechnung</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://cdn.tailwindcss.com"></script>

<style>
@media print {
  .no-print { display:none !important; }
}
</style>
</head>

<body class="bg-slate-100 p-4">

<div class="max-w-4xl mx-auto bg-white p-6 shadow rounded">

<h1 class="text-2xl font-bold">H2 TechService â€“ Rechnung</h1>
<p>Inhaber: Osman Tuncer</p>
<p>Tel: +49 176 66658777</p>
<p>E-Mail: 74star@gmail.com</p>

<hr class="my-4">

<h2 class="font-bold">EmpfÃ¤nger</h2>
<textarea id="kunde" class="w-full border p-2" rows="4"
placeholder="Kundendaten"></textarea>

<div class="no-print mt-2">
<button onclick="saveCustomer()" class="bg-blue-600 text-white px-3 py-1 rounded">
Kunde speichern
</button>
<button onclick="deleteCustomer()" class="bg-red-600 text-white px-3 py-1 rounded">
Kunde lÃ¶schen
</button>
</div>

<hr class="my-4">

<h2 class="font-bold">Position</h2>
<input id="desc" class="border p-2 w-full" placeholder="Beschreibung">
<input id="price" type="number" class="border p-2 w-full mt-2" placeholder="Preis">

<p class="mt-2 font-bold">
Gesamt: <span id="total">0.00</span> â‚¬
</p>

<hr class="my-4">

<div class="no-print flex gap-2 flex-wrap">

<!-- PDF -->
<button onclick="window.print()" class="bg-gray-800 text-white px-4 py-2 rounded">
ðŸ“„ PDF
</button>

<!-- MAIL -->
<a id="mailBtn" class="bg-blue-500 text-white px-4 py-2 rounded">
ðŸ“§ Mail
</a>

<!-- WHATSAPP -->
<a id="waBtn" target="_blank" class="bg-green-500 text-white px-4 py-2 rounded">
WhatsApp
</a>

<!-- TELEGRAM -->
<a id="tgBtn" target="_blank" class="bg-sky-500 text-white px-4 py-2 rounded">
Telegram
</a>

</div>

</div>

<script>
const price = document.getElementById("price");
const total = document.getElementById("total");

price.oninput = () => {
  total.textContent = Number(price.value || 0).toFixed(2);
};

function saveCustomer(){
  localStorage.setItem("kunde", kunde.value);
  alert("Gespeichert");
}

function deleteCustomer(){
  localStorage.removeItem("kunde");
  kunde.value="";
}

window.onload = ()=>{
  kunde.value = localStorage.getItem("kunde") || "";
  updateShare();
}

function updateShare(){
  const text = encodeURIComponent("Rechnung von H2 TechService: " + total.textContent + " â‚¬");
  document.getElementById("mailBtn").href =
    "mailto:?subject=Rechnung&body=" + text;
  document.getElementById("waBtn").href =
    "https://wa.me/?text=" + text;
  document.getElementById("tgBtn").href =
    "https://t.me/share/url?text=" + text;
}
</script>

</body>
</html>
