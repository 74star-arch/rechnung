<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rechnung</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background: #f0f3f7; padding: 40px; font-family: 'Segoe UI', Arial, sans-serif; }
        .invoice-box {
            max-width: 950px;
            margin: auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.12);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #0056b3, #007bff);
            color: white;
            padding: 50px 40px;
            text-align: center;
        }
        .header h1 { margin: 0; font-size: 40px; font-weight: 700; letter-spacing: 1px; }
        .content { padding: 50px; }
        .section-title { font-size: 18px; font-weight: 600; color: #333; margin-bottom: 20px; border-bottom: 2px solid #007bff; padding-bottom: 8px; }
        .info-block { margin-bottom: 40px; }
        .table thead { background: #007bff; color: white; font-weight: 600; }
        .table th, .table td { vertical-align: middle; }
        .summary { background: #f8f9fa; padding: 30px; border-radius: 16px; margin-top: 40px; }
        .summary table { width: 100%; font-size: 18px; }
        .summary td { padding: 12px 0; }
        .total-row { border-top: 4px solid #007bff; font-weight: bold; }
        @media print {
            body { background: white; padding: 0; }
            .invoice-box { box-shadow: none; border-radius: 0; }
        }
    </style>
</head>
<body>
    <div class="invoice-box">
        <div class="header">
            <h1>Rechnung</h1>
        </div>
        <div class="content">
            <div class="row info-block">
                <div class="col-md-6">
                    <div class="section-title">Absender</div>
                    <strong>← HIER DEINE DATEN EINGEBEN: Firmenname GmbH / Einzelunternehmen</strong><br>
                    ← HIER DEINE DATEN EINGEBEN: Straße und Hausnummer<br>
                    ← HIER DEINE DATEN EINGEBEN: PLZ Ort<br>
                    Deutschland<br><br>
                    <strong>Steuernummer:</strong> ← HIER DEINE DATEN EINGEBEN: z. B. 123/456/78901<br>
                    <strong>USt-IdNr.:</strong> ← HIER DEINE DATEN EINGEBEN: z. B. DE123456789 (falls vorhanden)<br>
                    <strong>E-Mail:</strong> ← HIER DEINE DATEN EINGEBEN: deine@email.de<br>
                    <strong>Telefon:</strong> ← HIER DEINE DATEN EINGEBEN: +49 123 4567890
                </div>
                <div class="col-md-6 text-md-end">
                    <!-- Ersetze den Link durch dein echtes Logo (z. B. hochgeladen auf Imgur oder deine Website) -->
                    <img src="https://via.placeholder.com/240x80?text=Dein+Firmenlogo" alt="Firmenlogo" class="mb-4"><br>
                    <strong>Rechnungsnummer:</strong> INV-2025-001<br>
                    <strong>Rechnungsdatum:</strong> 31.12.2025<br>
                    <strong>Fällig am:</strong> 14.01.2026<br>
                    <strong>Zahlungsbedingung:</strong> 14 Tage netto
                </div>
            </div>

            <div class="row info-block">
                <div class="col-md-6">
                    <div class="section-title">Rechnung an</div>
                    Kunde GmbH<br>
                    Kundenstraße 45<br>
                    54321 Kundstadt<br>
                    Deutschland<br><br>
                    E-Mail: kunde@email.de
                </div>
            </div>

            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Beschreibung</th>
                        <th class="text-center" style="width: 12%;">Menge</th>
                        <th class="text-end" style="width: 18%;">Einzelpreis (€)</th>
                        <th class="text-end" style="width: 18%;">Gesamt (€)</th>
                        <th style="width: 10%;"></th>
                    </tr>
                </thead>
                <tbody id="invoice-items">
                    <tr class="item">
                        <td><input type="text" class="form-control border-0" value="Dienstleistung / Produktbezeichnung" placeholder="Beschreibung"></td>
                        <td class="text-center"><input type="number" class="form-control text-center qty border-0" value="1" min="1"></td>
                        <td class="text-end"><input type="number" class="form-control text-end price border-0" value="0.00" step="0.01"></td>
                        <td class="line-total text-end">0,00</td>
                        <td class="text-center"><button class="btn btn-sm btn-outline-danger remove">Löschen</button></td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr>
                        <td colspan="5" class="text-end">
                            <button id="add-row" class="btn btn-primary mt-4">Neue Position hinzufügen</button>
                        </td>
                    </tr>
                </tfoot>
            </table>

            <div class="row">
                <div class="col-md-6 offset-md-6">
                    <div class="summary">
                        <table>
                            <tr>
                                <td><strong>Nettobetrag</strong></td>
                                <td class="text-end" id="subtotal">0,00 €</td>
                            </tr>
                            <tr>
                                <td>Rabatt</td>
                                <td class="text-end"><input type="number" id="discount" class="form-control text-end d-inline-block" value="0.00" step="0.01" style="width: 140px;"> €</td>
                            </tr>
                            <tr>
                                <td>zzgl. 19% MwSt.</td>
                                <td class="text-end" id="tax">0,00 €</td>
                            </tr>
                            <tr class="total-row">
                                <td><strong>Gesamtbetrag</strong></td>
                                <td class="text-end" id="grandtotal"><strong>0,00 €</strong></td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>

            <div class="mt-5">
                <div class="section-title">Zahlungsinformationen & Notiz</div>
                Bank: ← HIER DEINE DATEN EINGEBEN: Deine Bank<br>
                IBAN: ← HIER DEINE DATEN EINGEBEN: DE12 3456 7890 1234 5678 90<br>
                BIC: ← HIER DEINE DATEN EINGEBEN: COBADEFFXXX<br><br>
                <strong>Vielen Dank für Ihren Auftrag und die gute Zusammenarbeit!</strong><br>
                Bei Fragen stehen wir Ihnen jederzeit gerne zur Verfügung.
            </div>
        </div>
    </div>

    <script>
        function calculate() {
            let subtotal = 0;
            document.querySelectorAll('.item').forEach(row => {
                const qty = parseFloat(row.querySelector('.qty').value) || 0;
                const price = parseFloat(row.querySelector('.price').value) || 0;
                const total = qty * price;
                row.querySelector('.line-total').textContent = total.toFixed(2).replace('.', ',');
                subtotal += total;
            });
            const discount = parseFloat(document.getElementById('discount').value) || 0;
            const taxable = subtotal - discount;
            const tax = taxable * 0.19;
            const grand = taxable + tax;

            document.getElementById('subtotal').textContent = subtotal.toFixed(2).replace('.', ',') + ' €';
            document.getElementById('tax').textContent = tax.toFixed(2).replace('.', ',') + ' €';
            document.getElementById('grandtotal').innerHTML = '<strong>' + grand.toFixed(2).replace('.', ',') + ' €</strong>';
        }

        document.getElementById('add-row').addEventListener('click', () => {
            const tbody = document.getElementById('invoice-items');
            const newRow = document.createElement('tr');
            newRow.className = 'item';
            newRow.innerHTML = `
                <td><input type="text" class="form-control border-0" placeholder="Beschreibung"></td>
                <td class="text-center"><input type="number" class="form-control text-center qty border-0" value="1" min="1"></td>
                <td class="text-end"><input type="number" class="form-control text-end price border-0" value="0.00" step="0.01"></td>
                <td class="line-total text-end">0,00</td>
                <td class="text-center"><button class="btn btn-sm btn-outline-danger remove">Löschen</button></td>
            `;
            tbody.appendChild(newRow);
            newRow.querySelectorAll('input').forEach(input => input.addEventListener('input', calculate));
            calculate();
        });

        document.getElementById('invoice-items').addEventListener('click', e => {
            if (e.target.classList.contains('remove')) {
                e.target.closest('tr').remove();
                calculate();
            }
        });

        document.querySelectorAll('input').forEach(input => input.addEventListener('input', calculate));
        document.getElementById('discount').addEventListener('input', calculate);
        calculate();
    </script>
</body>
</html>
